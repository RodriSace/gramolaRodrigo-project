# Puerto en el que se ejecutará el backend
server.port=8080

# Perfil por defecto: MySQL (recomendado para guardar datos en tu BD real)
# Para usar H2 en desarrollo, arranca con: -Dspring.profiles.active=dev
# spring.profiles.active=dev

# Conexión a la Base de Datos MySQL
spring.datasource.url=jdbc:mysql://localhost:3306/gramola?createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=root

# Configuración de JPA (el gestor de la base de datos)
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Clave secreta para la API de Stripe
stripe.api.key=sk_test_51SGRYtLYhxLLPwjraxqg3DDQj8zT9SmlI7HlFU8kvMd6z2b8YUIvBdTmhTDaFSQj5hFCchqweieNADVjcOw7fsWR00XwSBocF9

# URL base del frontend para construir enlaces en emails (ajústala en despliegue)
app.frontend.base-url=http://localhost:4200

# Deezer OAuth configuration
# Fill these with the credentials of your Deezer application and the public callback URL
deezer.app-id=
deezer.secret=
# The redirect (callback) URL you registered in Deezer app settings. For local dev you can use:
# http://127.0.0.1:8080/auth
# If running on a headless device, set http://<device-ip>:8080/auth or your domain
deezer.redirect-url=http://127.0.0.1:8080/auth

# Mailtrap SMTP (activo por defecto para entorno local con MySQL)
spring.mail.host=${MAILTRAP_HOST:sandbox.smtp.mailtrap.io}
spring.mail.port=${MAILTRAP_PORT:2525}
spring.mail.username=${MAILTRAP_USERNAME:d92e3a099904bb}
spring.mail.password=${MAILTRAP_PASSWORD:525636198e514c}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.ssl.trust=sandbox.smtp.mailtrap.io
spring.mail.test-connection=false
logging.level.org.springframework.mail=DEBUG
logging.level.org.springframework.boot.autoconfigure.mail=DEBUG
spring.mail.properties.mail.debug=true

# SMTP (rellena tus credenciales para envío real)
# spring.mail.host=smtp.sendgrid.net
# spring.mail.port=587
# spring.mail.username=apikey
# spring.mail.password=SG.xxxxxx
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true